@*
 * Copyright 2019 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import models.pages.Summary

@(title: String, 
summary: Option[Summary] = None, 
bodyEnd: Html = Html(""), 
headExtra: Html = Html(""), 
links:Html = Html(""), 
headerClass:Html=Html("with-proposition"),
propositionHeader:Html=Html(""),
showBackButton:Boolean=true,
showAccountInfo:Boolean=true,
needsTimeoutWarning:Boolean=true,
feedbackUrl: Call = feedback.routes.Feedback.inPageFeedback)(content: Html)(implicit requestHeader: RequestHeader, messages: Messages)

@head = {
    @headExtra
}

@empty = {}

@insideHeader = {
    <div class="header-proposition">
        <div class="content">
            <nav id="proposition-menu">
                <a href="@routes.Application.index" id="proposition-name">@Messages("project.header")</a>
            </nav>
        </div>
    </div>
}

@headers = {
    <div class="header-content" >
    @views.html.includes.phase_banner(feedbackUrl)
    @views.html.includes.branding_banner()
    @if(showAccountInfo && summary.isDefined){
      @views.html.includes.account_info(summary.get)
    }
    </div>
}

@layouts.govuk_template2(Some(title), None)(head, empty, bodyEnd, insideHeader, empty, empty, footerLinks, headerClass=headerClass, needsTimeoutWarning=needsTimeoutWarning) {
    @headers
    @content
}

@footerLinks = {
    @views.html.includes.footerLinks(feedbackUrl)
}